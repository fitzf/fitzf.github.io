---
title: MySQL里面这五个非常非常有用的东西
tags: Mysql
categories: Essay
abbrlink: 59847b0b
date: 2017-04-08 18:02:04
---
MySQL是非常流行的关系型数据库，虽然拥有的SQL语法大部分是符合ANSI SQL标准的，但是它自身还是携带了很多优秀的、私有的语句和指示符，今天我们就来分析一下。
### EXPLAIN
难度指数：★ ★ ★ ★ ★
推荐指数：★ ★ ★ ★ ★
当我们网站或者接口访问频率越来越大，这时如果我们的相关SQL语句执行时间很长的话，就很容易造成网站或者接口响应慢的情况，那么使用explain语句，我们能够清楚的知道MySQL是怎么执行我们的SQL语句的，执行某个查询语句总共查询了多少条记录，使用了什么表以及多表的链接顺序是怎么样的，该查询使用了哪些索引等等信息，有了这些信息，我们能够根据多次执行和分析优化我们的数据库，该建立索引的建索引，该删除的索引就删除掉。
### FOR UPDATE
难度指数：★ ★ ☆ ☆ ☆
推荐指数：★ ★ ★ ★ ★
有时我们有这样的一种情况，就是需要将某个SELECT语句查询的行进行锁定，防止其他客户端修改，那么这个时候，我们可以使用这个指示符来完成。
### DELAYED
难度指数：★ ★ ☆ ☆ ☆
推荐指数：★ ★ ★ ★ ★
有时发现我们的产品的某个插入、更新操作不需要立即生效，也就是一些对读要求高、写要求不太高的应用，可以使用这个指示符，就是将这个插入或者修改后的数据不是立即写入到磁盘文件中去，而是等到MySQL数据库非常空闲的时候再进行写入的操作，从这里来看，这个指示符也算是一个小的优化性指示符。
### SQL_CACHE
难度指数：★ ★ ☆ ☆ ☆
推荐指数：★ ★ ★ ★ ★
有时我们的产品读操作非常多，修改频率比较低，那么这个时候我们能够在执行select查询的时候指定sql_cache这个指示符，这样该查询语句和相应的查询结果将被缓存起来，那么下次执行同样的查询语句时，如果数据没有发生改变，那么将直接返回这个缓存的结果给客户端，从这里来看，这个查询语句指示符主要用于一些特性应用场景的优化操作。
### ON DUPLICATE KEY UPDATE
难度指数：★ ★ ☆ ☆ ☆
推荐指数：★ ★ ★ ★ ★
我们知道，在MySQL中有一个特殊的语句就是Replace语句，就是当插入的时候，我们发现某个条件（这里需要注意的是，这里指的是唯一索引或主键）的数据已经存在了，那么这个时候就先删除这条数据，然后再插入新的数据，也就是先删除再插入，但是有时候我们仅仅需要的是，如果存在了仅仅修改某个字段的值，而不是删除再插入，那么这个时候可以使用ON DUPLICATE KEY UPDATE来完成。